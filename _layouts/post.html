---
layout: default
---
<article class="post-content">
    <div class="post-header">
        <div class="card-meta" style="justify-content: center;">
            {% if page.tags %}
                {% for tag in page.tags %}
                <a href="{{ '/blog/' | relative_url }}?tag={{ tag | url_encode }}" class="card-tag">{{ tag }}</a>
                {% endfor %}
            {% endif %}
            <span class="card-date">{{ page.date | date: "%B %d, %Y" }}</span>
        </div>
        <h1>{{ page.title }}</h1>
        {% assign words = content | number_of_words %}
        {% assign read_time = words | divided_by: 180 | plus: 1 %}
        <p style="color: var(--text-muted); font-size: 0.9rem; margin-top: 1rem;">⏱️ {{ read_time }} min read</p>
    </div>
    
    <div class="post-body" id="post-body">
        {{ content }}
    </div>

    <div class="post-footer">
        <div class="share-buttons">
            <span style="color: var(--text-muted); font-size: 0.85rem; font-weight: 600; text-transform: uppercase;">Share article:</span>
            <a href="https://twitter.com/intent/tweet?text={{ page.title | url_encode }}&url={{ site.url }}{{ page.url }}" target="_blank" rel="noopener noreferrer" class="share-btn">Twitter</a>
            <a href="https://www.linkedin.com/shareArticle?mini=true&url={{ site.url }}{{ page.url }}&title={{ page.title | url_encode }}" target="_blank" rel="noopener noreferrer" class="share-btn">LinkedIn</a>
        </div>
    </div>

    {% assign related_posts_count = 0 %}
    {% for post in site.posts %}
        {% if post.url != page.url %}
            {% for tag in post.tags %}
                {% if page.tags contains tag %}
                    {% assign related_posts_count = related_posts_count | plus: 1 %}
                    {% break %}
                {% endif %}
            {% endfor %}
        {% endif %}
    {% endfor %}

    {% if related_posts_count > 0 %}
    <div class="related-posts">
        <div class="section-title">
            <div class="title-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>
            </div>
            <h3>Related Articles</h3>
        </div>
        <div class="related-grid">
            {% assign shown_count = 0 %}
            {% for post in site.posts %}
                {% if post.url != page.url and shown_count < 3 %}
                    {% assign common_tag = false %}
                    {% for tag in post.tags %}
                        {% if page.tags contains tag %}
                            {% assign common_tag = true %}
                            {% break %}
                        {% endif %}
                    {% endfor %}

                    {% if common_tag %}
                        <article class="card card-side">
                            <div class="card-meta">
                                <span class="card-date">{{ post.date | date: "%B %d, %Y" }}</span>
                            </div>
                            <h3 style="font-size: 1.25rem;"><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h3>
                            <a href="{{ post.url | relative_url }}" class="read-article">
                                Read Article
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
                            </a>
                        </article>
                        {% assign shown_count = shown_count | plus: 1 %}
                    {% endif %}
                {% endif %}
            {% endfor %}
        </div>
    </div>
    {% endif %}
</article>

<button id="back-to-top" class="back-to-top" aria-label="Back to top">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m18 15-6-6-6 6"/></svg>
</button>

<script>
    const backToTop = document.getElementById('back-to-top');
    window.addEventListener('scroll', () => {
        if (window.scrollY > 500) {
            backToTop.classList.add('visible');
        } else {
            backToTop.classList.remove('visible');
        }
    });
    backToTop.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // TOC Generation
    const postBody = document.getElementById('post-body');
    if (postBody) {
        const headings = postBody.querySelectorAll('h2, h3');
        if (headings.length > 3) {
            const toc = document.createElement('div');
            toc.className = 'table-of-contents';
            toc.innerHTML = '<h4><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg> Jump to Section</h4><ul></ul>';
            const ul = toc.querySelector('ul');
            
            headings.forEach((heading, index) => {
                const id = 'heading-' + index;
                heading.setAttribute('id', id);
                const li = document.createElement('li');
                if (heading.tagName === 'H3') {
                    li.style.marginLeft = '1.5rem';
                    li.style.fontSize = '0.9em';
                }
                const a = document.createElement('a');
                a.href = '#' + id;
                a.textContent = heading.textContent;
                li.appendChild(a);
                ul.appendChild(li);
            });
            
            postBody.insertBefore(toc, postBody.firstChild);
        }
    }
</script>
